<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Forms AutoFill</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="popup">
      <h1>Forms AutoFill</h1>
      <p class="hint">Open a Google Form tab and click the button (or press Ctrl+Shift+Y / Cmd+Shift+Y).</p>
      <label for="templateSelect">Instruction template</label>
      <select id="templateSelect"></select>
      <div class="template-actions">
        <input id="templateName" type="text" placeholder="Custom template name" />
        <button id="saveTemplateButton" type="button">Save As Template</button>
      </div>
      <button id="deleteTemplateButton" class="danger" type="button" hidden>Delete Selected Template</button>
      <label for="instruction">Optional instruction</label>
      <textarea
        id="instruction"
        rows="3"
        placeholder="Example: Reply as a senior frontend developer."
      ></textarea>
      <label class="toggle" for="previewMode">
        <input id="previewMode" type="checkbox" checked />
        Preview before fill
      </label>
      <button id="fillButton">Analyze and Fill</button>
      <button id="applyButton" hidden disabled>Apply Selected</button>

      <section id="previewSection" class="preview" hidden>
        <h2>Preview</h2>
        <p class="hint">Uncheck items you do not want to apply.</p>
        <div id="previewList" class="preview-list"></div>
      </section>

      <details id="debugPanel" class="debug">
        <summary>Debug</summary>
        <p class="hint">Raw model output and local mapping.</p>
        <pre id="debugRaw"></pre>
        <pre id="debugMapping"></pre>
      </details>

      <p id="status" aria-live="polite"></p>
      <a class="link" href="options.html" target="_blank" rel="noopener">Settings</a>
    </main>
    <script src="popup.js"></script>
  </body>
</html>
